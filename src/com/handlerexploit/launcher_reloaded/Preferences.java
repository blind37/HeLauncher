/* 
 * This program is free software. It comes without any warranty, to
 * the extent permitted by applicable law. You can redistribute it
 * and/or modify it under the terms of the Do What The Fuck You Want
 * To Public License, Version 2, as published by Sam Hocevar. See
 * http://sam.zoy.org/wtfpl/COPYING for more details.
 */

package com.handlerexploit.launcher_reloaded;

import android.os.Bundle;
import android.preference.CheckBoxPreference;
import android.preference.ListPreference;
import android.preference.Preference;
import android.preference.Preference.OnPreferenceClickListener;
import android.preference.PreferenceActivity;
import android.provider.Settings;

public class Preferences extends PreferenceActivity implements OnPreferenceClickListener{

	private CheckBoxPreference preference_1;
	private ListPreference preference_2;
	private static CheckBoxPreference preference_3;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        initializePreferences();
    }
    
    private void initializePreferences() {
    	addPreferencesFromResource(R.xml.preferences);
    	preference_1 = (CheckBoxPreference) findPreference("preference_1");
    	preference_1.setOnPreferenceClickListener(this);
    	preference_2 = (ListPreference) findPreference("preference_2");
    	preference_2.setOnPreferenceClickListener(this);
    	preference_3 = (CheckBoxPreference) findPreference("preference_3");
    	preference_3.setOnPreferenceClickListener(this);
     }
	
	private void changePreferences() {
		Settings.System.putInt(getContentResolver(), Settings.System.ACCELEROMETER_ROTATION, preference_1.isChecked() ? 1 : 0);
	}
	
	static boolean getWallpaperChange() {
		return preference_3.isChecked();
	}
	
	/* Land of the forgotten classes */
	public boolean onPreferenceClick(Preference arg0) {changePreferences();return true;}
	public void onBackPressed() {finish();}
}